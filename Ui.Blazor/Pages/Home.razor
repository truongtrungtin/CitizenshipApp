@page "/"
@inject Ui.Blazor.Services.AppState State
@inject NavigationManager Nav

<PageTitle>Home</PageTitle>

<h3>Citizenship Tutor</h3>

@if (!State.IsAuthenticated)
{
  <p>Bạn chưa đăng nhập.</p>
  <button class="btn btn-primary" @onclick="GoLogin">Login</button>
  <button class="btn btn-outline-primary ms-2" @onclick="GoRegister">Register</button>
}
else
{
  <p>
    ✅ Đã đăng nhập
    @if (State.IsOnboarded)
    {
      <span>(Onboarded)</span>
    }
    else
    {
      <span>(Chưa onboarding)</span>
    }
  </p>

  @if (!State.IsOnboarded)
  {
    <button class="btn btn-warning" @onclick="GoOnboarding">
      Complete onboarding
    </button>
  }

  <button class="btn btn-danger ms-2" @onclick="GoLogout">
    Logout
  </button>
}

@code {
  private void GoLogin() => Nav.NavigateTo("/login");
  private void GoRegister() => Nav.NavigateTo("/register");
  private void GoOnboarding() => Nav.NavigateTo("/onboarding");
  private void GoLogout() => Nav.NavigateTo("/logout");
}
