@inherits LayoutComponentBase
@inject Ui.Blazor.Services.AppState State
@inject NavigationManager Nav

<div style="max-width:900px;margin:0 auto;padding:16px;">
    <header style="display:flex;justify-content:space-between;align-items:center;gap:12px;">
        <h2 style="margin:0;">Citizenship Tutor</h2>

        @if (State.IsLoggedIn)
        {
            <button style="min-height:48px;padding:0 16px;"
                    @onclick="SignOut">Đăng xuất</button>
        }
    </header>

    <main style="margin-top:16px;">
        @Body
    </main>
</div>

@code{
    private void SignOut()
    {
        State.SignOut();
        Nav.NavigateTo("/login", replace: true);
    }
}
